@model List<HappyRE.Core.Entities.CMS_News>
@using HappyRE.Core.Resources;
@using HappyRE.Core.Entities;
@{
    if (Model == null || Model.Count == 0)
    {
        return;
    }
}
<div id="news-list" class="clearfix news-list" ng-non-bindable>
    <div class="news-items-header clearfix">
        <h2 class="news-items-title">@Message.Box_News_Title</h2>
        <div class="news-items-viewmore">
            <a href="@ViewBag.LinkMore" class="mg-link" gtm-event="link" gtm-cat="home" gtm-act="news-more">@Message.Msg_LinkMore<i class="fa fa-angle-right"></i></a>
        </div>
    </div>
    <div class="news-items clearfix">
        @foreach (var item in Model)
        {
            var imgUrl = "";
            var cover = item.GetCoverImage();
            if (cover != null) { imgUrl = cover.WrapMediaUrl("xs"); }

            <div class="news">
                <div class="news-image"><img class="lozad" data-src="@imgUrl" alt=""></div>
                <div class="news-info">
                    <a href="@item.CodeUrl" class="link-overlay" gtm-event="link" gtm-cat="home" gtm-act="news">
                        <h3 class="news-title"> @item.Subject</h3>
                    </a>
                    <div class="news-posted-date">@item.PublishDate.ToShortDateString()</div>
                </div>
            </div>
        }
    </div>
</div>